# WSLのセットアップ

## WSLをインストールする
[WSLのインストール](https://learn.microsoft.com/ja-jp/windows/wsl/install)  
デフォルトでインストール済みの`wsl`コマンドでインストールする。
```powershell
wsl --install

要求された操作には管理者特権が必要です。
インストール中: 仮想マシン プラットフォーム
仮想マシン プラットフォーム はインストールされました。
インストール中: Linux 用 Windows サブシステム
Linux 用 Windows サブシステム はインストールされました。
インストール中: Ubuntu
Ubuntu はインストールされました。
要求された操作は正常に終了しました。変更を有効にするには、システムを再起動する必要があります。

wsl -v

WSL バージョン: 1.2.0.0
カーネル バージョン: 5.15.90.1
WSLg バージョン: 1.0.51
MSRDC バージョン: 1.2.3770
Direct3D バージョン: 1.608.2-61064218
DXCore バージョン: 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp
Windows バージョン: 10.0.22621.1555
```

Windowsを再起動するとWSLが立ち上がりUbuntu（デフォルト）にユーザー作成を促される。  
ここでユーザー名を入力すると以下のエラーメッセージが出力されることがある。
```
実行しようとした操作は、参照したオブジェクトの種類ではサポートされていません。
Error code: Wsl/Service/0x8007273d
```

この場合は別のターミナルでPowershellを管理者権限で立ち上げて以下のコマンドを発行する。
```powerhsell
netsh winsock reset

Winsock カタログをリセットしました。
リセットを完了するためにコンピューターを再起動する必要があります。
```

改めて元のターミナルでユーザー名を入力するとセットアップが完了する。
